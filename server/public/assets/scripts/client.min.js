var app=angular.module("ticketApp",[]);app.controller("MainController",["$http",function(a){var b=this;b.tickets=[],b.ticket={},b.getTickets=function(){a.get("/tickets/all").then(function(a){console.log(a),b.tickets=a.data,b.tickets.map(function(a){var b=moment(a.created).format("MMMM Do YYYY, h:mm:ss a");a.createdString=b;var c=moment(a.updated).format("MMMM Do YYYY, h:mm:ss a");a.updatedString=c,console.log(moment(a.created).format("MMMM Do YYYY, h:mm:ss a"))})})},b.makeTicket=function(){a.post("/tickets/makeTicket",b.ticket).then(function(a){console.log(a),b.ticket={},b.getTickets()})},b.deleteTicket=function(c){console.log("deleteTicket function ran"),a["delete"]("/tickets/remove/"+c._id).then(function(a){console.log("Ticket removed"),b.getTickets()})},b.getTickets()}]);